{
  "_format": "hh-sol-artifact-1",
  "contractName": "ERC721BasedRewarder",
  "sourceName": "contracts/ERC721BasedRewarder.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "contract IERC721Rewardable",
          "name": "nft",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "minSnapshotInterval",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "erc721",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "ERC721AlreadyClaimed",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "erc721",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "mintBlock",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "snapshotBlock",
          "type": "uint256"
        }
      ],
      "name": "ERC721NotInSnapshot",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "erc721",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "ERC721NotOwned",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "owner",
          "type": "address"
        }
      ],
      "name": "OwnableInvalidOwner",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        }
      ],
      "name": "OwnableUnauthorizedAccount",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "lastTimestamp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "nextTimestamp",
          "type": "uint256"
        }
      ],
      "name": "SnapshotTooEarly",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "oldBalance",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newBalance",
          "type": "uint256"
        }
      ],
      "name": "BalanceChanged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "erc721",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "reward",
          "type": "uint256"
        }
      ],
      "name": "RewardClaimed",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "reward",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "supply",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "unclaimed",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "blockNumber",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "blockTimestamp",
              "type": "uint256"
            }
          ],
          "indexed": false,
          "internalType": "struct IERC721BasedRewarder.Snapshot",
          "name": "",
          "type": "tuple"
        }
      ],
      "name": "SnapshotCreated",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "balance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "balanceOf",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "erc721",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        }
      ],
      "name": "incrementBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "newBalance",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "account",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokenId",
          "type": "uint256"
        }
      ],
      "name": "issueReward",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "lastSnapshot",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "reward",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "supply",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "unclaimed",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "blockNumber",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "blockTimestamp",
              "type": "uint256"
            }
          ],
          "internalType": "struct IERC721BasedRewarder.Snapshot",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "previewSnapshot",
      "outputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "reward",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "supply",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "unclaimed",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "blockNumber",
              "type": "uint256"
            },
            {
              "internalType": "uint256",
              "name": "blockTimestamp",
              "type": "uint256"
            }
          ],
          "internalType": "struct IERC721BasedRewarder.Snapshot",
          "name": "snapshot",
          "type": "tuple"
        },
        {
          "internalType": "uint256",
          "name": "reminder",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "takeSnapshot",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50604051610c8d380380610c8d83398101604081905261002f916100d8565b338061005557604051631e4fbdf760e01b81526000600482015260240160405180910390fd5b61005e81610088565b50600180546001600160a01b0319166001600160a01b039390931692909217909155600855610112565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600080604083850312156100eb57600080fd5b82516001600160a01b038116811461010257600080fd5b6020939093015192949293505050565b610b6c806101216000396000f3fe608060405234801561001057600080fd5b50600436106100c95760003560e01c8063b3d3d37e11610081578063d57140911161005b578063d571409114610171578063f2fde38b14610184578063fb861ac11461019757600080fd5b8063b3d3d37e14610150578063b69ef8a814610158578063bca6ce641461016057600080fd5b80638da5cb5b116100b25780638da5cb5b146100f75780639cc7f7081461011c578063b32fe94f1461013d57600080fd5b80636f833593146100ce578063715018a6146100ed575b600080fd5b6100d66101ac565b6040516100e4929190610989565b60405180910390f35b6100f56102c5565b005b6000546001600160a01b03165b6040516001600160a01b0390911681526020016100e4565b61012f61012a3660046109cf565b6102d9565b6040519081526020016100e4565b61012f61014b3660046109cf565b6103a1565b6100f561040a565b60095461012f565b6001546001600160a01b0316610104565b61012f61017f3660046109fd565b610539565b6100f5610192366004610a29565b61081d565b61019f610874565b6040516100e49190610a4d565b6101de6040518060a0016040528060008152602001600081526020016000815260200160008152602001600081525090565b60008060028001546009546101f39190610a9c565b90506000600160009054906101000a90046001600160a01b03166001600160a01b03166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561024a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061026e9190610aaf565b9050600061027c8284610ade565b90506102888284610af2565b93506040518060a0016040528082815260200183815260200185856102ad9190610b06565b81526020014381526020014281525094505050509091565b6102cd6108db565b6102d76000610921565b565b6001546040516358f3d65360e01b81526004810183905260009182916001600160a01b03909116906358f3d65390602401602060405180830381865afa158015610327573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061034b9190610aaf565b905080158061035b575060055481115b156103695750600092915050565b600554600090815260076020908152604080832086845290915290205460ff16156103975750600092915050565b5050600254919050565b60006103ab6108db565b6009805490839060006103be8385610a9c565b90915550506009546040805183815260208101929092527f098e541f764772513aa8ccd611cb4963758156bfc1712852cd585eece3ff0990910160405180910390a15050600954919050565b600854600654429161041b91610a9c565b1115610471576006546008546104319082610a9c565b6040517f98b25b7d000000000000000000000000000000000000000000000000000000008152600481019290925260248201526044015b60405180910390fd5b60095461047c6101ac565b60095580516002819055602080830151600381905560408085015160048190556060808701516005819055608097880151600681905584519788529587019490945291850152830152918101919091527f31160a87cbeca2144a9a3c0756f599223ffcd8fdb0ef5ba19e997dfe81fe23b69060a00160405180910390a16009546040805183815260208101929092527f098e541f764772513aa8ccd611cb4963758156bfc1712852cd585eece3ff0990910160405180910390a150565b60006105436108db565b6001546040517f6352211e000000000000000000000000000000000000000000000000000000008152600481018490526001600160a01b03858116921690636352211e90602401602060405180830381865afa1580156105a7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105cb9190610b19565b6001600160a01b031614610629576001546040517f3cb2119a0000000000000000000000000000000000000000000000000000000081526001600160a01b038086166004830152909116602482015260448101839052606401610468565b600554600090815260076020908152604080832085845290915290205460ff161561069e576001546040517f221598eb0000000000000000000000000000000000000000000000000000000081526001600160a01b038086166004830152909116602482015260448101839052606401610468565b6001546040516358f3d65360e01b8152600481018490526000916001600160a01b0316906358f3d65390602401602060405180830381865afa1580156106e8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061070c9190610aaf565b6005549091508110610777576001546005546040517f517056670000000000000000000000000000000000000000000000000000000081526001600160a01b03808816600483015290921660248301526044820185905260648201839052608482015260a401610468565b6002546004805460009061078c908490610b06565b90915550506005546000908152600760209081526040808320868452825291829020805460ff191660019081179091555460025483516001600160a01b0389811682529092169282019290925291820185905260608201527f7a84a08b02c91f3c62d572853f966fc799bbd121e8ad7833a4494ab8dcfcb4049060800160405180910390a150506002545b92915050565b6108256108db565b6001600160a01b038116610868576040517f1e4fbdf700000000000000000000000000000000000000000000000000000000815260006004820152602401610468565b61087181610921565b50565b6108a66040518060a0016040528060008152602001600081526020016000815260200160008152602001600081525090565b506040805160a08101825260025481526003546020820152600454918101919091526005546060820152600654608082015290565b6000546001600160a01b031633146102d7576040517f118cdaa7000000000000000000000000000000000000000000000000000000008152336004820152602401610468565b600080546001600160a01b038381167fffffffffffffffffffffffff0000000000000000000000000000000000000000831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60c081016109c2828580518252602081015160208301526040810151604083015260608101516060830152608081015160808301525050565b8260a08301529392505050565b6000602082840312156109e157600080fd5b5035919050565b6001600160a01b038116811461087157600080fd5b60008060408385031215610a1057600080fd5b8235610a1b816109e8565b946020939093013593505050565b600060208284031215610a3b57600080fd5b8135610a46816109e8565b9392505050565b60a08101610817828480518252602081015160208301526040810151604083015260608101516060830152608081015160808301525050565b634e487b7160e01b600052601160045260246000fd5b8082018082111561081757610817610a86565b600060208284031215610ac157600080fd5b5051919050565b634e487b7160e01b600052601260045260246000fd5b600082610aed57610aed610ac8565b500490565b600082610b0157610b01610ac8565b500690565b8181038181111561081757610817610a86565b600060208284031215610b2b57600080fd5b8151610a46816109e856fea264697066735822122036ea9a8a8d40e7f7f76aa5db42fd33ef0c4b0fbe63e04b229d1f21e4d11deb6364736f6c63430008180033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100c95760003560e01c8063b3d3d37e11610081578063d57140911161005b578063d571409114610171578063f2fde38b14610184578063fb861ac11461019757600080fd5b8063b3d3d37e14610150578063b69ef8a814610158578063bca6ce641461016057600080fd5b80638da5cb5b116100b25780638da5cb5b146100f75780639cc7f7081461011c578063b32fe94f1461013d57600080fd5b80636f833593146100ce578063715018a6146100ed575b600080fd5b6100d66101ac565b6040516100e4929190610989565b60405180910390f35b6100f56102c5565b005b6000546001600160a01b03165b6040516001600160a01b0390911681526020016100e4565b61012f61012a3660046109cf565b6102d9565b6040519081526020016100e4565b61012f61014b3660046109cf565b6103a1565b6100f561040a565b60095461012f565b6001546001600160a01b0316610104565b61012f61017f3660046109fd565b610539565b6100f5610192366004610a29565b61081d565b61019f610874565b6040516100e49190610a4d565b6101de6040518060a0016040528060008152602001600081526020016000815260200160008152602001600081525090565b60008060028001546009546101f39190610a9c565b90506000600160009054906101000a90046001600160a01b03166001600160a01b03166318160ddd6040518163ffffffff1660e01b8152600401602060405180830381865afa15801561024a573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061026e9190610aaf565b9050600061027c8284610ade565b90506102888284610af2565b93506040518060a0016040528082815260200183815260200185856102ad9190610b06565b81526020014381526020014281525094505050509091565b6102cd6108db565b6102d76000610921565b565b6001546040516358f3d65360e01b81526004810183905260009182916001600160a01b03909116906358f3d65390602401602060405180830381865afa158015610327573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061034b9190610aaf565b905080158061035b575060055481115b156103695750600092915050565b600554600090815260076020908152604080832086845290915290205460ff16156103975750600092915050565b5050600254919050565b60006103ab6108db565b6009805490839060006103be8385610a9c565b90915550506009546040805183815260208101929092527f098e541f764772513aa8ccd611cb4963758156bfc1712852cd585eece3ff0990910160405180910390a15050600954919050565b600854600654429161041b91610a9c565b1115610471576006546008546104319082610a9c565b6040517f98b25b7d000000000000000000000000000000000000000000000000000000008152600481019290925260248201526044015b60405180910390fd5b60095461047c6101ac565b60095580516002819055602080830151600381905560408085015160048190556060808701516005819055608097880151600681905584519788529587019490945291850152830152918101919091527f31160a87cbeca2144a9a3c0756f599223ffcd8fdb0ef5ba19e997dfe81fe23b69060a00160405180910390a16009546040805183815260208101929092527f098e541f764772513aa8ccd611cb4963758156bfc1712852cd585eece3ff0990910160405180910390a150565b60006105436108db565b6001546040517f6352211e000000000000000000000000000000000000000000000000000000008152600481018490526001600160a01b03858116921690636352211e90602401602060405180830381865afa1580156105a7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105cb9190610b19565b6001600160a01b031614610629576001546040517f3cb2119a0000000000000000000000000000000000000000000000000000000081526001600160a01b038086166004830152909116602482015260448101839052606401610468565b600554600090815260076020908152604080832085845290915290205460ff161561069e576001546040517f221598eb0000000000000000000000000000000000000000000000000000000081526001600160a01b038086166004830152909116602482015260448101839052606401610468565b6001546040516358f3d65360e01b8152600481018490526000916001600160a01b0316906358f3d65390602401602060405180830381865afa1580156106e8573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061070c9190610aaf565b6005549091508110610777576001546005546040517f517056670000000000000000000000000000000000000000000000000000000081526001600160a01b03808816600483015290921660248301526044820185905260648201839052608482015260a401610468565b6002546004805460009061078c908490610b06565b90915550506005546000908152600760209081526040808320868452825291829020805460ff191660019081179091555460025483516001600160a01b0389811682529092169282019290925291820185905260608201527f7a84a08b02c91f3c62d572853f966fc799bbd121e8ad7833a4494ab8dcfcb4049060800160405180910390a150506002545b92915050565b6108256108db565b6001600160a01b038116610868576040517f1e4fbdf700000000000000000000000000000000000000000000000000000000815260006004820152602401610468565b61087181610921565b50565b6108a66040518060a0016040528060008152602001600081526020016000815260200160008152602001600081525090565b506040805160a08101825260025481526003546020820152600454918101919091526005546060820152600654608082015290565b6000546001600160a01b031633146102d7576040517f118cdaa7000000000000000000000000000000000000000000000000000000008152336004820152602401610468565b600080546001600160a01b038381167fffffffffffffffffffffffff0000000000000000000000000000000000000000831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b60c081016109c2828580518252602081015160208301526040810151604083015260608101516060830152608081015160808301525050565b8260a08301529392505050565b6000602082840312156109e157600080fd5b5035919050565b6001600160a01b038116811461087157600080fd5b60008060408385031215610a1057600080fd5b8235610a1b816109e8565b946020939093013593505050565b600060208284031215610a3b57600080fd5b8135610a46816109e8565b9392505050565b60a08101610817828480518252602081015160208301526040810151604083015260608101516060830152608081015160808301525050565b634e487b7160e01b600052601160045260246000fd5b8082018082111561081757610817610a86565b600060208284031215610ac157600080fd5b5051919050565b634e487b7160e01b600052601260045260246000fd5b600082610aed57610aed610ac8565b500490565b600082610b0157610b01610ac8565b500690565b8181038181111561081757610817610a86565b600060208284031215610b2b57600080fd5b8151610a46816109e856fea264697066735822122036ea9a8a8d40e7f7f76aa5db42fd33ef0c4b0fbe63e04b229d1f21e4d11deb6364736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}